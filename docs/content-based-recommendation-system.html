<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Content-Based Recommendation System | Data Science Project Guide: Netflix</title>
  <meta name="description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Content-Based Recommendation System | Data Science Project Guide: Netflix" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Content-Based Recommendation System | Data Science Project Guide: Netflix" />
  
  <meta name="twitter:description" content="Everything you need to know for your successful TechAcademy Data Science Project" />
  

<meta name="author" content="TechAcademy e.V." />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory-data-analysis.html"/>
<link rel="next" href="exercise-checklist.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="plot/TA_Logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="chapter" data-level="2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html"><i class="fa fa-check"></i><b>2</b> What’s Data Science and How Do I Do It?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#whats-r-and-datacamp-courses"><i class="fa fa-check"></i><b>2.1</b> What’s R and Datacamp Courses?</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#rstudio"><i class="fa fa-check"></i><b>2.1.1</b> RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#datacamp-courses-and-curriculum"><i class="fa fa-check"></i><b>2.1.2</b> DataCamp courses and Curriculum</a></li>
<li class="chapter" data-level="2.1.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#helpful-links"><i class="fa fa-check"></i><b>2.1.3</b> Helpful Links</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#whats-python-and-datacamp-courses"><i class="fa fa-check"></i><b>2.2</b> What’s Python and Datacamp Courses?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#google-colab-anaconda-and-jupyter"><i class="fa fa-check"></i><b>2.2.1</b> Google Colab, Anaconda and Jupyter</a></li>
<li class="chapter" data-level="2.2.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#datacamp-courses-and-curriculum-1"><i class="fa fa-check"></i><b>2.2.2</b> DataCamp courses and Curriculum</a></li>
<li class="chapter" data-level="2.2.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#helpful-links-1"><i class="fa fa-check"></i><b>2.2.3</b> Helpful Links</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#your-data-science-project"><i class="fa fa-check"></i><b>2.3</b> Your Data Science Project</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#prelude"><i class="fa fa-check"></i><b>2.3.1</b> Prelude</a></li>
<li class="chapter" data-level="2.3.2" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#coding-meetups"><i class="fa fa-check"></i><b>2.3.2</b> Coding Meetups</a></li>
<li class="chapter" data-level="2.3.3" data-path="whats-data-science-and-how-do-i-do-it.html"><a href="whats-data-science-and-how-do-i-do-it.html#final-deadline"><i class="fa fa-check"></i><b>2.3.3</b> Final Deadline</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html"><i class="fa fa-check"></i><b>3</b> Introduction to Your Project</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#purpose-of-the-project-guide"><i class="fa fa-check"></i><b>3.1</b> Purpose of the Project Guide</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#what-is-this-project-about"><i class="fa fa-check"></i><b>3.2</b> What is this Project About?</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#exploratory-data-analysis-getting-to-know-the-data-set"><i class="fa fa-check"></i><b>3.3</b> Exploratory Data Analysis – Getting to Know the Data Set</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-your-project.html"><a href="introduction-to-your-project.html#recommendation-system"><i class="fa fa-check"></i><b>3.4</b> Recommendation System</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#getting-started"><i class="fa fa-check"></i><b>4.1</b> Getting started</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#discovering-the-data"><i class="fa fa-check"></i><b>4.1.1</b> Discovering the Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#give-some-overall-statements"><i class="fa fa-check"></i><b>4.1.2</b> Give some overall statements</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-cleaning-and-useful-transformations"><i class="fa fa-check"></i><b>4.2</b> Data Cleaning and Useful Transformations</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#date-formatting"><i class="fa fa-check"></i><b>4.2.1</b> Date Formatting</a></li>
<li class="chapter" data-level="4.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#more-details-of-the-longest-movie"><i class="fa fa-check"></i><b>4.2.2</b> More details of the longest movie</a></li>
<li class="chapter" data-level="4.2.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-histogram-of-the-top-10-longest-movies-duration"><i class="fa fa-check"></i><b>4.2.3</b> A histogram of the top 10 longest movies duration</a></li>
<li class="chapter" data-level="4.2.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizing-movie-durations-over-time"><i class="fa fa-check"></i><b>4.2.4</b> Visualizing movie durations over time</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#your-personal-data"><i class="fa fa-check"></i><b>4.3</b> Your personal data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#load-your-data"><i class="fa fa-check"></i><b>4.3.1</b> Load your data</a></li>
<li class="chapter" data-level="4.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#clean-and-transform-dataset"><i class="fa fa-check"></i><b>4.3.2</b> Clean and transform dataset</a></li>
<li class="chapter" data-level="4.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#merging-datasets-primitive-approach"><i class="fa fa-check"></i><b>4.3.3</b> Merging datasets: primitive approach</a></li>
<li class="chapter" data-level="4.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#merging-datasets-advanced-approach"><i class="fa fa-check"></i><b>4.3.4</b> Merging datasets: advanced approach</a></li>
<li class="chapter" data-level="4.3.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#dynamic-line-plot"><i class="fa fa-check"></i><b>4.3.5</b> Dynamic line plot</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#lets-get-personal"><i class="fa fa-check"></i><b>4.4</b> Let’s get personal</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#monthly-viewing-time-in-2021"><i class="fa fa-check"></i><b>4.4.1</b> Monthly viewing time in 2021</a></li>
<li class="chapter" data-level="4.4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#average-per-weekday"><i class="fa fa-check"></i><b>4.4.2</b> Average per weekday</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#binge-watching"><i class="fa fa-check"></i><b>4.5</b> Binge watching</a></li>
<li class="chapter" data-level="4.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatterplot-with-marginal-density"><i class="fa fa-check"></i><b>4.6</b> Scatterplot with marginal density</a></li>
<li class="chapter" data-level="4.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#word-cloud-with-your-favorite-genre"><i class="fa fa-check"></i><b>4.7</b> Word cloud with your favorite genre</a></li>
<li class="chapter" data-level="4.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#surprise-us"><i class="fa fa-check"></i><b>4.8</b> Surprise Us!</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html"><i class="fa fa-check"></i><b>5</b> Content-Based Recommendation System</a>
<ul>
<li class="chapter" data-level="5.1" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#theory"><i class="fa fa-check"></i><b>5.1</b> Theory</a></li>
<li class="chapter" data-level="5.2" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#bag-of-words"><i class="fa fa-check"></i><b>5.2</b> Bag of words</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#creating-a-corpus"><i class="fa fa-check"></i><b>5.2.1</b> Creating a corpus</a></li>
<li class="chapter" data-level="5.2.2" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#document-term-matrix"><i class="fa fa-check"></i><b>5.2.2</b> Document Term Matrix</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#cosine-similarity"><i class="fa fa-check"></i><b>5.3</b> Cosine Similarity</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#preparation-for-r-only"><i class="fa fa-check"></i><b>5.3.1</b> Preparation for <em>R</em> only</a></li>
<li class="chapter" data-level="5.3.2" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#function"><i class="fa fa-check"></i><b>5.3.2</b> Function</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="content-based-recommendation-system.html"><a href="content-based-recommendation-system.html#recommendations"><i class="fa fa-check"></i><b>5.4</b> Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exercise-checklist.html"><a href="exercise-checklist.html"><i class="fa fa-check"></i><b>6</b> Exercise Checklist</a>
<ul>
<li class="chapter" data-level="6.1" data-path="exercise-checklist.html"><a href="exercise-checklist.html#part-1-exploratory-data-analysis-beginner-advanced"><i class="fa fa-check"></i><b>6.1</b> Part 1: Exploratory Data Analysis (Beginner + Advanced)</a></li>
<li class="chapter" data-level="6.2" data-path="exercise-checklist.html"><a href="exercise-checklist.html#part-2-recommendation-system-motivated-beginner-advanced"><i class="fa fa-check"></i><b>6.2</b> Part 2: Recommendation System (motivated Beginner + Advanced)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html"><i class="fa fa-check"></i><b>7</b> What’s Next in Your Data Science Career?</a>
<ul>
<li class="chapter" data-level="7.1" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#continue-your-journey-on-datacamp"><i class="fa fa-check"></i><b>7.1</b> Continue your journey on DataCamp</a></li>
<li class="chapter" data-level="7.2" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#data-science-in-general"><i class="fa fa-check"></i><b>7.2</b> Data Science in General</a></li>
<li class="chapter" data-level="7.3" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#r"><i class="fa fa-check"></i><b>7.3</b> R</a></li>
<li class="chapter" data-level="7.4" data-path="whats-next-in-your-data-science-career.html"><a href="whats-next-in-your-data-science-career.html#python"><i class="fa fa-check"></i><b>7.4</b> Python</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://tech-academy.io/" target="blank">&copy 2022 TechAcademy e.V.</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Project Guide: Netflix</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class="hero-image-container"> 
  <img class= "hero-image" src="images/netflix_header.jpg">
</div>
<div id="content-based-recommendation-system" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Content-Based Recommendation System<a href="content-based-recommendation-system.html#content-based-recommendation-system" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="docs/plot/netflix_rec.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>Though Netflix offers many movies, it has a great recommendation system customized for every viewer (otherwise, we would probably be overwhelmed). So let’s get to the bottom of this system and build your personalized system!</p>
<p>There are two different recommendation systems: collaborative and content-based, but we focused on the content-based recommendation system because of its simplicity. What does that mean?
It means that you will build a recommendation system based on your previous viewing history and recommend movies/shows with similar “content.” So your content-based recommendation will base on the description, genre, and actors column.</p>
<p>Before you start coding you should first check out the theory behind a content-based recommendation system.</p>
<div id="theory" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Theory<a href="content-based-recommendation-system.html#theory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of your questions probably is “How can I calculate the similarity between two movies regarding the description/genre/actors?” You will calculate the similarity of movies/shows with the cosine similarity function, but we will get to that later. The hard work will be the preparation to use the cosine similarity function.</p>
<p>We will walk you through the theory by looking at the description column. The approach for the genre and cast columns are very similar, so don’t worry!</p>
<p>To calculate the similarity between two movies/shows regarding the description, you need to first prep the column. Therefore, you need to collect all words used in the entire description column, generate new columns with each word as titles, and fill in the cells for each movie/show with 1’s if the word appears or 0’s if it doesn’t appear. In the below chart, you can see what we mean :)</p>
<p><img src="docs/plot/bag_of_words.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>The matrix on the right hand side is called a <strong>“Document Term Matrix”</strong>.</p>
<p>Now let us explain what all these words above and underneath the arrow mean. “Tokenize/vectorize words” means each word has its column.
“Transfer words to lowercase” is helpful since the same words should not be in two different columns just because one word has a capital letter and the other a lowercase. The next step is to remove stop words and punctuation since that is irrelevant to the similarity matrix. At last, you should also consider the stemming of each word to reduce verbs like waiting, waits, waited, etc. to wait. Maybe you should also only consider words that appear more often than once (50-100 times) to reduce the size of your data frame.</p>
<p>FYI: this method is called <strong>bag of words</strong> :)</p>
<p>If you are in the R track then please read the following section. Python coders can skip this part.</p>
<p>Before we can calculate the cosine similarity matrix, you first need to transpose the matrix. What does that mean? You have to switch the rows to columns and the other way around. We have visualized the idea below. (If you don’t transpose the matrix, you will calculate the similarity between each word instead of each movie.)</p>
<p><img src="docs/plot/transpose.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>Now let’s check out that scary word “cosine similarity.” In our case, it calculates the similarity between two items (movies/shows) based on the description column. Mathematical speaking, “it measures the cosine of the angle between two vectors projected in a multi-dimensional space.” If you are further interested in the mathematical idea/function, you can check out this <a href="https://www.sciencedirect.com/topics/computer-science/cosine-similarity">website</a>.
Though, this is not necessary for you to build the recommendation engine since R and Python provide packages for that function ;)</p>
<p>The matrix below shows how the output should look like. If two movies/shows are identical, they have the value 1, and with no similarities, the value 0.</p>
<p><img src="docs/plot/cosine_sim.jpg" width="70%" style="display: block; margin: auto;" /></p>
<p>So, in this case, movie 1 and 3 have the highest similarity (the identical movies have, of course, the value 1, but they aren’t interesting since we want a recommendation system with new movies). In contrast, movie 1 and 2 have the lowest similarity.
Now you have to repeat the steps above for genre and actors so that you have 3 cosine similarity matrices.</p>
<p>At this point, you completed the data preparation, and you can continue with the actual recommendation of some movies. The goal is to print 10 recommendations from the 5 previous movies you have watched.</p>
<p>For example, movie 3 was the last movie you watched. Now you need to build a data frame/matrix where all movies are in the rows, and the column from movie 3 of the similarity matrices of description/genre/actors are in each column. After that, you need to generate a final column where you weigh each similarity component for the final similarity value of each movie.
For example, if you say that description, genre and actors are all equally important to you, then you can choose for each a 1/3 share:</p>
<p><img src="docs/plot/formula.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>You can see in the below graph what we mean :)</p>
<p><img src="docs/plot/final_mat.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>In this case, movie 1 has a higher similarity than movie 2 regarding movie 3, so your recommendation would be to watch movie 1.
That’s the theory behind the content-based recommendation system (yeah!).
Phew, that was a lot! If you have any questions, please ask your mentor; they are happy to help you!</p>
<p>If not, let’s get ready to rumble!</p>
</div>
<div id="bag-of-words" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Bag of words<a href="content-based-recommendation-system.html#bag-of-words" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As mentioned in the theory chapter, you need to extract all words from the description/genre/cast column with the bag of words approach. We suggest starting with the description, continuing with the genres, and ending with the actors.</p>
<p>Below you can see the example for the description column.</p>
<p><img src="docs/plot/bag_of_words.jpg" width="100%" style="display: block; margin: auto;" /></p>
<div id="creating-a-corpus" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Creating a corpus<a href="content-based-recommendation-system.html#creating-a-corpus" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before you start, you first need to create a corpus to vectorize the words in each column.</p>
<div class="tips r">
<p>We recommend using the tm and SnowballC packages. Check out this <a href="https://thibaut-deveraux.medium.com/how-to-create-a-bag-of-words-embedding-in-r-e609095ebf53">website</a>. This article gets interesting/relevant, starting with the title “Create the bag of words.”</p>
</div>
<div class="tipsp python">
<p>Since there is not a package that reliably builds a term document matrix, which is applicable to a recommendation system, you have to build it on your own. Sounds really challenging and it is kinda true. It is comparable to the steps that are done by the function in R (look tipp above). The most important functions used are here:
<img src="docs/plot/python_bow.jpg" width="60%" style="display: block; margin: auto;" />
Where you have to apply those is in your hands.
For the data preparations we would recommend using <strong>lambda functions</strong>. There are some necessary changes to the dataframes to work with it in later steps. :)</p>
</div>
</div>
<div id="document-term-matrix" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Document Term Matrix<a href="content-based-recommendation-system.html#document-term-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Since you have created a corpus, you can build a document term matrix (which is on the right side of the above chart).
For that, you should consider transferring the words to lowercase, removing stop words and punctuation, and regard the stemming of each word to reduce verbs like waiting, waits, waited, etc. to wait.</p>
<div class="tips r">
<p>Continue reading the <a href="https://thibaut-deveraux.medium.com/how-to-create-a-bag-of-words-embedding-in-r-e609095ebf53">article</a> at “Document term matrix for words“.
It explains how to create a document term matrix by editing the words mentioned above.
(You can ignore the part about the weighting function TfIdf since we don’t consider that for simplicity reasons.)</p>
</div>
<div class="tipsp python">
<p>Again at this point this function might be helpful:
<img src="docs/plot/python_dtm.jpg" width="80%" style="display: block; margin: auto;" />
You can use this function on all columns that are relevant for you. After that you can fit a matrix on this column. You still have to rename some stuff after that, but we leave that to you.</p>
</div>
</div>
</div>
<div id="cosine-similarity" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Cosine Similarity<a href="content-based-recommendation-system.html#cosine-similarity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s move forward to the cosine similarity matrix! Remember, you need 3 matrices for description, genre, and actors. Below you can see what your output should look like.</p>
<p><img src="docs/plot/cosine_sim.jpg" width="70%" style="display: block; margin: auto;" /></p>
<div id="preparation-for-r-only" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Preparation for <em>R</em> only<a href="content-based-recommendation-system.html#preparation-for-r-only" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before you can start using the cosine similarity function, you first need to transform the document term matrix to a matrix to transpose it (so that the movie titles are in the column and the words represented in the rows.) If you have completed that, you can continue with transposing the matrix.</p>
<p><img src="docs/plot/transpose.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>After transposing the matrix, you can add the title names in the columns if you haven’t done that before.</p>
<div class="tips r">
<p>You can transpose the matrix with the basic R package, so you don’t need to install anything further.</p>
</div>
<div class="tipsp python">
<p>Transposition of the matrix is not needed in Python. You can simply use the cosine similarity in the sklearn library. But you should be aware of the index, columns and data type after using it.</p>
</div>
</div>
<div id="function" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Function<a href="content-based-recommendation-system.html#function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now you should be able to use the function for the description, genre and actors column :)</p>
<div class="tips r">
<p>For the cosine similarity function, you can use the lsa package.
Don’t worry if the function takes a few minutes to calculate; it is a large matrix, so it’s only normal that the performance isn’t the best.
After calculating the cosine similarity function, you might want to transform it into a data frame to continue working with tidyverse.</p>
</div>
<div class="tipsp python">
<p>In Python you have to do all the steps for every column you use for the recommendation separately. For some columns you have to use the functions in a slightly different way.</p>
</div>
</div>
</div>
<div id="recommendations" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Recommendations<a href="content-based-recommendation-system.html#recommendations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You are almost there, so don’t give up! Before you start coding your final part for the content-based recommendation, have a look at how the output could look like.
So in our example, Tobis last watched movie/show was Breaking Bad, and as recommendations, we got:</p>
<p><img src="docs/plot/tobi_rec.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>There are some very interesting recommendations, but most of them make sense, so it worked! Now it’s your turn!</p>
<p>One of the challenges is that not every public data set might include your last-watched movie/show.
That is why we worked with a simple for loop, which iterates over your last seen movies/shows and first checks if the public data set includes that movie/show, and if so, you can build your data frame as mentioned in theory:</p>
<p><img src="docs/plot/final_mat.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>So you take out of each similarity matrix (description/genre/actors) the column of your last seen movie and create a final similarity column. As already mentioned, you can weigh the aspects (description/genre/actors) differently and check what happens to your recommendations.</p>
<p>For example, if you say that description, genre and actors are all equally important to you, then you can choose for each a 1/3 share:</p>
<p><img src="docs/plot/formula.jpg" width="100%" style="display: block; margin: auto;" /></p>
<p>For instance: I have looked at recommendations for “Inception,” and one of them was “Lord of the Rings,” but once I changed my priorities/weighting, that recommendation changed.</p>
<p>If the public data set doesn’t include your last-watched movie/show, your loop should move on to the next movie/show you have watched.</p>
<p>Since you only want to print recommendations for 5 movies/shows, you also need to define that your loop stops after movie/show number 5. Don’t forget to sort your data frame based on the final similarity column since you want recommendations with the highest similarity.</p>
<p>Voilà! You got yourself a self-built content-based recommendation system!</p>
<p><strong>Congratulations!</strong> You’ve made it to the end of your TechAcademy Data Science project. After visualizing the data in the first part, you’ve also set up your personal content-based recommendation system in this section. If you stuck around until this part and managed to code the better part of the exercises, you have definitely earned your certificate! We hope you had fun learning Data Science with this combination of data sets and enjoyed it – at least the parts where you did not get stuck forever because of some unexplainable coding error. Do not forget to send your project results to our project submission email address before the deadline (<strong>05.02.2023, 23:59</strong>).
Thank you for being a part of TechAcademy!</p>

<div style="page-break-after: always;"></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-checklist.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Netflix.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
